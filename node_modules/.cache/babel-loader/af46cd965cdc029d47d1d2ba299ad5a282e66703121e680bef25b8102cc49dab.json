{"ast":null,"code":"var _jsxFileName = \"E:\\\\NgonNguKichBan\\\\ToDo_FontEnd\\\\src\\\\components\\\\TeamManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getUsers, getBoardMembers, addBoardMember, removeBoardMember, register } from '../services/api';\nimport { Users, UserPlus, UserMinus, Crown, User } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TeamManagement = ({\n  boardId,\n  isOpen,\n  onClose\n}) => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [members, setMembers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [emailInput, setEmailInput] = useState('');\n  const [error, setError] = useState('');\n  const [adding, setAdding] = useState(false);\n  useEffect(() => {\n    if (isOpen) {\n      fetchUsers();\n      fetchMembers();\n    }\n  }, [isOpen, boardId]);\n  const fetchUsers = async () => {\n    try {\n      const usersData = await getUsers();\n      setUsers(usersData);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    }\n  };\n  const fetchMembers = async () => {\n    try {\n      setLoading(true);\n      const membersData = await getBoardMembers(boardId);\n      setMembers(membersData);\n    } catch (error) {\n      console.error('Error fetching members:', error);\n      setError('Error loading team members');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleAddMember = async () => {\n    if (!emailInput.trim()) {\n      setError('Vui lòng nhập email');\n      return;\n    }\n    setAdding(true);\n    try {\n      // Kiểm tra user đã tồn tại chưa\n      let user = users.find(u => u.email === emailInput.trim());\n      if (!user) {\n        // Nếu chưa có thì tạo user mới\n        const username = emailInput.split('@')[0];\n        const password = Math.random().toString(36).slice(-8);\n        user = await register(username, emailInput.trim(), password);\n        await fetchUsers(); // reload lại danh sách user\n      }\n\n      // Thêm user vào board\n      await addBoardMember(boardId, user.id);\n      setEmailInput('');\n      setError('');\n      fetchMembers();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error adding member');\n    } finally {\n      setAdding(false);\n    }\n  };\n  const handleRemoveMember = async userId => {\n    if (window.confirm('Are you sure you want to remove this member?')) {\n      try {\n        await removeBoardMember(boardId, userId);\n        setError('');\n        fetchMembers();\n      } catch (error) {\n        var _error$response2, _error$response2$data;\n        setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Error removing member');\n      }\n    }\n  };\n  const getRoleIcon = role => {\n    if (role === 'owner') {\n      return /*#__PURE__*/_jsxDEV(Crown, {\n        size: 16,\n        className: \"text-yellow-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(User, {\n      size: 16,\n      className: \"text-gray-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 12\n    }, this);\n  };\n  const getRoleColor = role => {\n    if (role === 'owner') {\n      return 'bg-yellow-100 text-yellow-800';\n    }\n    return 'bg-blue-100 text-blue-800';\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-96 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-800 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              size: 20,\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), \"Team Management\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 max-h-64 overflow-y-auto\",\n        children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-gray-700 mb-2\",\n            children: \"Add Team Member\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: emailInput,\n              onChange: e => setEmailInput(e.target.value),\n              placeholder: \"Nh\\u1EADp email user...\",\n              className: \"flex-1 p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddMember,\n              className: \"flex items-center gap-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed\",\n              children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this), adding ? 'Adding...' : 'Add']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-gray-700 mb-2\",\n            children: [\"Team Members (\", members.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-4 text-gray-500\",\n            children: \"Loading members...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this) : members.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-4 text-gray-500\",\n            children: \"No team members yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: members.map(member => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [getRoleIcon(member.role), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-gray-800\",\n                    children: member.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500\",\n                    children: member.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 rounded text-xs font-medium ${getRoleColor(member.role)}`,\n                  children: member.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 23\n                }, this), member.role !== 'owner' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleRemoveMember(member.id),\n                  className: \"text-red-600 hover:text-red-800 p-1\",\n                  title: \"Remove member\",\n                  children: /*#__PURE__*/_jsxDEV(UserMinus, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 21\n              }, this)]\n            }, member.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"px-4 py-2 text-gray-600 hover:text-gray-800\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n_s(TeamManagement, \"IsrejQZ2BIzNKF4NOWoLXjN69aQ=\");\n_c = TeamManagement;\nexport default TeamManagement;\nvar _c;\n$RefreshReg$(_c, \"TeamManagement\");","map":{"version":3,"names":["React","useState","useEffect","getUsers","getBoardMembers","addBoardMember","removeBoardMember","register","Users","UserPlus","UserMinus","Crown","User","jsxDEV","_jsxDEV","TeamManagement","boardId","isOpen","onClose","_s","users","setUsers","members","setMembers","loading","setLoading","emailInput","setEmailInput","error","setError","adding","setAdding","fetchUsers","fetchMembers","usersData","console","membersData","handleAddMember","trim","user","find","u","email","username","split","password","Math","random","toString","slice","id","_error$response","_error$response$data","response","data","handleRemoveMember","userId","window","confirm","_error$response2","_error$response2$data","getRoleIcon","role","size","className","fileName","_jsxFileName","lineNumber","columnNumber","getRoleColor","children","onClick","type","value","onChange","e","target","placeholder","length","map","member","title","_c","$RefreshReg$"],"sources":["E:/NgonNguKichBan/ToDo_FontEnd/src/components/TeamManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getUsers, getBoardMembers, addBoardMember, removeBoardMember, register } from '../services/api';\r\nimport { Users, UserPlus, UserMinus, Crown, User } from 'lucide-react';\r\n\r\nconst TeamManagement = ({ boardId, isOpen, onClose }) => {\r\n  const [users, setUsers] = useState([]);\r\n  const [members, setMembers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [emailInput, setEmailInput] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [adding, setAdding] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      fetchUsers();\r\n      fetchMembers();\r\n    }\r\n  }, [isOpen, boardId]);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const usersData = await getUsers();\r\n      setUsers(usersData);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n    }\r\n  };\r\n\r\n  const fetchMembers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const membersData = await getBoardMembers(boardId);\r\n      setMembers(membersData);\r\n    } catch (error) {\r\n      console.error('Error fetching members:', error);\r\n      setError('Error loading team members');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddMember = async () => {\r\n    if (!emailInput.trim()) {\r\n      setError('Vui lòng nhập email');\r\n      return;\r\n    }\r\n    setAdding(true);\r\n    try {\r\n      // Kiểm tra user đã tồn tại chưa\r\n      let user = users.find(u => u.email === emailInput.trim());\r\n\r\n      if (!user) {\r\n        // Nếu chưa có thì tạo user mới\r\n        const username = emailInput.split('@')[0];\r\n        const password = Math.random().toString(36).slice(-8);\r\n        user = await register(username, emailInput.trim(), password);\r\n        await fetchUsers(); // reload lại danh sách user\r\n      }\r\n\r\n      // Thêm user vào board\r\n      await addBoardMember(boardId, user.id);\r\n      setEmailInput('');\r\n      setError('');\r\n      fetchMembers();\r\n    } catch (error) {\r\n      setError(error.response?.data?.error || 'Error adding member');\r\n    } finally {\r\n      setAdding(false);\r\n    }\r\n  };\r\n\r\n  const handleRemoveMember = async (userId) => {\r\n    if (window.confirm('Are you sure you want to remove this member?')) {\r\n      try {\r\n        await removeBoardMember(boardId, userId);\r\n        setError('');\r\n        fetchMembers();\r\n      } catch (error) {\r\n        setError(error.response?.data?.error || 'Error removing member');\r\n      }\r\n    }\r\n  };\r\n\r\n  const getRoleIcon = (role) => {\r\n    if (role === 'owner') {\r\n      return <Crown size={16} className=\"text-yellow-500\" />;\r\n    }\r\n    return <User size={16} className=\"text-gray-500\" />;\r\n  };\r\n\r\n  const getRoleColor = (role) => {\r\n    if (role === 'owner') {\r\n      return 'bg-yellow-100 text-yellow-800';\r\n    }\r\n    return 'bg-blue-100 text-blue-800';\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center\">\r\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-96 overflow-hidden\">\r\n        {/* Header */}\r\n        <div className=\"p-4 border-b border-gray-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h2 className=\"text-lg font-semibold text-gray-800 flex items-center\">\r\n              <Users size={20} className=\"mr-2\" />\r\n              Team Management\r\n            </h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              ✕\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-4 max-h-64 overflow-y-auto\">\r\n          {error && (\r\n            <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Add Member */}\r\n          <div className=\"mb-6\">\r\n            <h3 className=\"text-sm font-medium text-gray-700 mb-2\">Add Team Member</h3>\r\n            <div className=\"flex gap-2\">\r\n              <input\r\n                type=\"email\"\r\n                value={emailInput}\r\n                onChange={(e) => setEmailInput(e.target.value)}\r\n                placeholder=\"Nhập email user...\"\r\n                className=\"flex-1 p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n              <button\r\n                onClick={handleAddMember}\r\n                \r\n                className=\"flex items-center gap-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed\"\r\n              >\r\n                <UserPlus size={16} />\r\n                {adding ? 'Adding...' : 'Add'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Members List */}\r\n          <div>\r\n            <h3 className=\"text-sm font-medium text-gray-700 mb-2\">\r\n              Team Members ({members.length})\r\n            </h3>\r\n            \r\n            {loading ? (\r\n              <div className=\"text-center py-4 text-gray-500\">\r\n                Loading members...\r\n              </div>\r\n            ) : members.length === 0 ? (\r\n              <div className=\"text-center py-4 text-gray-500\">\r\n                No team members yet\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                {members.map((member) => (\r\n                  <div\r\n                    key={member.id}\r\n                    className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\r\n                  >\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      {getRoleIcon(member.role)}\r\n                      <div>\r\n                        <div className=\"font-medium text-gray-800\">\r\n                          {member.username}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          {member.email}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 rounded text-xs font-medium ${getRoleColor(member.role)}`}>\r\n                        {member.role}\r\n                      </span>\r\n                      {member.role !== 'owner' && (\r\n                        <button\r\n                          onClick={() => handleRemoveMember(member.id)}\r\n                          className=\"text-red-600 hover:text-red-800 p-1\"\r\n                          title=\"Remove member\"\r\n                        >\r\n                          <UserMinus size={16} />\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"p-4 border-t border-gray-200\">\r\n          <div className=\"flex justify-end\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-gray-600 hover:text-gray-800\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TeamManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}