{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getUsers,getBoardMembers,addBoardMember,removeBoardMember,register}from'../services/api';import{Users,UserPlus,UserMinus,Crown,User}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TeamManagement=_ref=>{let{boardId,isOpen,onClose}=_ref;const[users,setUsers]=useState([]);const[members,setMembers]=useState([]);const[loading,setLoading]=useState(false);const[selectedUserId,setSelectedUserId]=useState('');const[error,setError]=useState('');const[showCreateForm,setShowCreateForm]=useState(false);const[newUsername,setNewUsername]=useState('');const[newEmail,setNewEmail]=useState('');const[newPassword,setNewPassword]=useState('');const[creating,setCreating]=useState(false);useEffect(()=>{if(isOpen){fetchUsers();fetchMembers();}},[isOpen,boardId]);const fetchUsers=async()=>{try{const usersData=await getUsers();setUsers(usersData);}catch(error){console.error('Error fetching users:',error);}};const fetchMembers=async()=>{try{setLoading(true);const membersData=await getBoardMembers(boardId);setMembers(membersData);}catch(error){console.error('Error fetching members:',error);setError('Error loading team members');}finally{setLoading(false);}};const handleAddMember=async()=>{if(!selectedUserId)return;try{await addBoardMember(boardId,selectedUserId);setSelectedUserId('');setError('');fetchMembers();}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Error adding member');}};const handleCreateMember=async()=>{if(!newUsername.trim()||!newEmail.trim()||!newPassword){setError('Vui lòng nhập đầy đủ Username, Email và Mật khẩu');return;}try{setCreating(true);await register(newUsername.trim(),newEmail.trim(),newPassword);setNewUsername('');setNewEmail('');setNewPassword('');setShowCreateForm(false);setError('');await fetchUsers();}catch(e){var _e$response,_e$response$data;setError(((_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.error)||'Không thể tạo thành viên mới');}finally{setCreating(false);}};const handleRemoveMember=async userId=>{if(window.confirm('Are you sure you want to remove this member?')){try{await removeBoardMember(boardId,userId);setError('');fetchMembers();}catch(error){var _error$response2,_error$response2$data;setError(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Error removing member');}}};const getAvailableUsers=()=>{const memberIds=members.map(member=>member.id);return users.filter(user=>!memberIds.includes(user.id));};const getRoleIcon=role=>{if(role==='owner'){return/*#__PURE__*/_jsx(Crown,{size:16,className:\"text-yellow-500\"});}return/*#__PURE__*/_jsx(User,{size:16,className:\"text-gray-500\"});};const getRoleColor=role=>{if(role==='owner'){return'bg-yellow-100 text-yellow-800';}return'bg-blue-100 text-blue-800';};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-96 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-800 flex items-center\",children:[/*#__PURE__*/_jsx(Users,{size:20,className:\"mr-2\"}),\"Team Management\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600\",children:\"\\u2715\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-h-64 overflow-y-auto\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"Add Team Member\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedUserId,onChange:e=>setSelectedUserId(e.target.value),className:\"flex-1 p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a user...\"}),getAvailableUsers().map(user=>/*#__PURE__*/_jsxs(\"option\",{value:user.id,children:[user.username,\" (\",user.email,\")\"]},user.id))]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAddMember,disabled:!selectedUserId,className:\"flex items-center gap-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(UserPlus,{size:16}),\"Add\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowCreateForm(!showCreateForm);setError('');},className:\"text-sm text-blue-600 hover:text-blue-800\",children:showCreateForm?'Ẩn form tạo thành viên':'Tạo thành viên mới'})}),showCreateForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 p-3 border rounded-md bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:newUsername,onChange:e=>setNewUsername(e.target.value),className:\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:newEmail,onChange:e=>setNewEmail(e.target.value),className:\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"M\\u1EADt kh\\u1EA9u\",value:newPassword,onChange:e=>setNewPassword(e.target.value),className:\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateMember,disabled:creating,className:\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-300\",children:creating?'Đang tạo...':'Tạo tài khoản'})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:[\"Team Members (\",members.length,\")\"]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4 text-gray-500\",children:\"Loading members...\"}):members.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4 text-gray-500\",children:\"No team members yet\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:members.map(member=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[getRoleIcon(member.role),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-800\",children:member.username}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:member.email})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(getRoleColor(member.role)),children:member.role}),member.role!=='owner'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveMember(member.id),className:\"text-red-600 hover:text-red-800 p-1\",title:\"Remove member\",children:/*#__PURE__*/_jsx(UserMinus,{size:16})})]})]},member.id))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-4 py-2 text-gray-600 hover:text-gray-800\",children:\"Close\"})})})]})});};export default TeamManagement;","map":{"version":3,"names":["React","useState","useEffect","getUsers","getBoardMembers","addBoardMember","removeBoardMember","register","Users","UserPlus","UserMinus","Crown","User","jsx","_jsx","jsxs","_jsxs","TeamManagement","_ref","boardId","isOpen","onClose","users","setUsers","members","setMembers","loading","setLoading","selectedUserId","setSelectedUserId","error","setError","showCreateForm","setShowCreateForm","newUsername","setNewUsername","newEmail","setNewEmail","newPassword","setNewPassword","creating","setCreating","fetchUsers","fetchMembers","usersData","console","membersData","handleAddMember","_error$response","_error$response$data","response","data","handleCreateMember","trim","e","_e$response","_e$response$data","handleRemoveMember","userId","window","confirm","_error$response2","_error$response2$data","getAvailableUsers","memberIds","map","member","id","filter","user","includes","getRoleIcon","role","size","className","getRoleColor","children","onClick","value","onChange","target","username","email","disabled","type","placeholder","length","concat","title"],"sources":["E:/Ngon-ngu-kich-ban/ToDo-fontend/src/components/TeamManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getUsers, getBoardMembers, addBoardMember, removeBoardMember, register } from '../services/api';\r\nimport { Users, UserPlus, UserMinus, Crown, User } from 'lucide-react';\r\n\r\nconst TeamManagement = ({ boardId, isOpen, onClose }) => {\r\n  const [users, setUsers] = useState([]);\r\n  const [members, setMembers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selectedUserId, setSelectedUserId] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [showCreateForm, setShowCreateForm] = useState(false);\r\n  const [newUsername, setNewUsername] = useState('');\r\n  const [newEmail, setNewEmail] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [creating, setCreating] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      fetchUsers();\r\n      fetchMembers();\r\n    }\r\n  }, [isOpen, boardId]);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const usersData = await getUsers();\r\n      setUsers(usersData);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n    }\r\n  };\r\n\r\n  const fetchMembers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const membersData = await getBoardMembers(boardId);\r\n      setMembers(membersData);\r\n    } catch (error) {\r\n      console.error('Error fetching members:', error);\r\n      setError('Error loading team members');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddMember = async () => {\r\n    if (!selectedUserId) return;\r\n\r\n    try {\r\n      await addBoardMember(boardId, selectedUserId);\r\n      setSelectedUserId('');\r\n      setError('');\r\n      fetchMembers();\r\n    } catch (error) {\r\n      setError(error.response?.data?.error || 'Error adding member');\r\n    }\r\n  };\r\n\r\n  const handleCreateMember = async () => {\r\n    if (!newUsername.trim() || !newEmail.trim() || !newPassword) {\r\n      setError('Vui lòng nhập đầy đủ Username, Email và Mật khẩu');\r\n      return;\r\n    }\r\n    try {\r\n      setCreating(true);\r\n      await register(newUsername.trim(), newEmail.trim(), newPassword);\r\n      setNewUsername('');\r\n      setNewEmail('');\r\n      setNewPassword('');\r\n      setShowCreateForm(false);\r\n      setError('');\r\n      await fetchUsers();\r\n    } catch (e) {\r\n      setError(e.response?.data?.error || 'Không thể tạo thành viên mới');\r\n    } finally {\r\n      setCreating(false);\r\n    }\r\n  };\r\n\r\n  const handleRemoveMember = async (userId) => {\r\n    if (window.confirm('Are you sure you want to remove this member?')) {\r\n      try {\r\n        await removeBoardMember(boardId, userId);\r\n        setError('');\r\n        fetchMembers();\r\n      } catch (error) {\r\n        setError(error.response?.data?.error || 'Error removing member');\r\n      }\r\n    }\r\n  };\r\n\r\n  const getAvailableUsers = () => {\r\n    const memberIds = members.map(member => member.id);\r\n    return users.filter(user => !memberIds.includes(user.id));\r\n  };\r\n\r\n  const getRoleIcon = (role) => {\r\n    if (role === 'owner') {\r\n      return <Crown size={16} className=\"text-yellow-500\" />;\r\n    }\r\n    return <User size={16} className=\"text-gray-500\" />;\r\n  };\r\n\r\n  const getRoleColor = (role) => {\r\n    if (role === 'owner') {\r\n      return 'bg-yellow-100 text-yellow-800';\r\n    }\r\n    return 'bg-blue-100 text-blue-800';\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center\">\r\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-96 overflow-hidden\">\r\n        {/* Header */}\r\n        <div className=\"p-4 border-b border-gray-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h2 className=\"text-lg font-semibold text-gray-800 flex items-center\">\r\n              <Users size={20} className=\"mr-2\" />\r\n              Team Management\r\n            </h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              ✕\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-4 max-h-64 overflow-y-auto\">\r\n          {error && (\r\n            <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Add Member */}\r\n          <div className=\"mb-6\">\r\n            <h3 className=\"text-sm font-medium text-gray-700 mb-2\">Add Team Member</h3>\r\n            <div className=\"flex gap-2\">\r\n              <select\r\n                value={selectedUserId}\r\n                onChange={(e) => setSelectedUserId(e.target.value)}\r\n                className=\"flex-1 p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value=\"\">Select a user...</option>\r\n                {getAvailableUsers().map((user) => (\r\n                  <option key={user.id} value={user.id}>\r\n                    {user.username} ({user.email})\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              <button\r\n                onClick={handleAddMember}\r\n                disabled={!selectedUserId}\r\n                className=\"flex items-center gap-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed\"\r\n              >\r\n                <UserPlus size={16} />\r\n                Add\r\n              </button>\r\n            </div>\r\n            <div className=\"mt-2\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => { setShowCreateForm(!showCreateForm); setError(''); }}\r\n                className=\"text-sm text-blue-600 hover:text-blue-800\"\r\n              >\r\n                {showCreateForm ? 'Ẩn form tạo thành viên' : 'Tạo thành viên mới'}\r\n              </button>\r\n            </div>\r\n\r\n            {showCreateForm && (\r\n              <div className=\"mt-3 p-3 border rounded-md bg-gray-50\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Username\"\r\n                    value={newUsername}\r\n                    onChange={(e) => setNewUsername(e.target.value)}\r\n                    className=\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                  <input\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    value={newEmail}\r\n                    onChange={(e) => setNewEmail(e.target.value)}\r\n                    className=\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                  <input\r\n                    type=\"password\"\r\n                    placeholder=\"Mật khẩu\"\r\n                    value={newPassword}\r\n                    onChange={(e) => setNewPassword(e.target.value)}\r\n                    className=\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                </div>\r\n                <div className=\"mt-3\">\r\n                  <button\r\n                    onClick={handleCreateMember}\r\n                    disabled={creating}\r\n                    className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-300\"\r\n                  >\r\n                    {creating ? 'Đang tạo...' : 'Tạo tài khoản'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Members List */}\r\n          <div>\r\n            <h3 className=\"text-sm font-medium text-gray-700 mb-2\">\r\n              Team Members ({members.length})\r\n            </h3>\r\n            \r\n            {loading ? (\r\n              <div className=\"text-center py-4 text-gray-500\">\r\n                Loading members...\r\n              </div>\r\n            ) : members.length === 0 ? (\r\n              <div className=\"text-center py-4 text-gray-500\">\r\n                No team members yet\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                {members.map((member) => (\r\n                  <div\r\n                    key={member.id}\r\n                    className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\r\n                  >\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      {getRoleIcon(member.role)}\r\n                      <div>\r\n                        <div className=\"font-medium text-gray-800\">\r\n                          {member.username}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          {member.email}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className={`px-2 py-1 rounded text-xs font-medium ${getRoleColor(member.role)}`}>\r\n                        {member.role}\r\n                      </span>\r\n                      {member.role !== 'owner' && (\r\n                        <button\r\n                          onClick={() => handleRemoveMember(member.id)}\r\n                          className=\"text-red-600 hover:text-red-800 p-1\"\r\n                          title=\"Remove member\"\r\n                        >\r\n                          <UserMinus size={16} />\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"p-4 border-t border-gray-200\">\r\n          <div className=\"flex justify-end\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-gray-600 hover:text-gray-800\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TeamManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}